<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOoki ASSISTANT</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.11/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"/>
    <link rel="icon" href="/static/images/flying_robot.ico">
</head>
<body>
    <section class="home" id="home">
        <div class="chat">
            <span id="title">DOoki <a href="#">in chat!</a></span>
            <div id="chatbox">
                <h5 id="chat-timestamp"></h5>
                <p id="GreetMessage" class="botText"></p>
                <p id="botStarterMessage" class="botText"><span>I'm Dooki. How are you big dude?</span></p>
            </div>
            <div class="chat-bar-input-block">
                <div id="userInput">
                    <input id="textInput" class="input-box" type="text" name="msg" placeholder="Tap 'Enter' to send message">
                    <p></p>
                </div>
                <div class="chat-bar-icons">
                    <!--<i id="chat-icon" style="color: crimson;" class="fa fa-fw fa-heart" onclick="heartButton()"></i>-->
                    <i id="chat-icon" style="color: #333;" class="fas fa-paper-plane" onclick="sendButton()"></i>
                </div>
            </div>
        </div>
        <div class="face">
            <div class="eyes">
                <div class="eye"></div>
                <div class="eye"></div>
            </div>
        </div>
        <div class="card">
            <div class="search">
              <input type="text" class="search-bar" placeholder="City Name">
              <button><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1.5em"
                  width="1.5em" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z">
                  </path>
                </svg></button>
            </div>
            <div class="weather loading">
              <h2 class="city"></h2>
              <div class="flex">
                <img src="https://openweathermap.org/img/wn/04n.png" alt="" class="icon" />
                <div class="description"></div>
              </div>
              <h3 class="temp"></h3>
              <div class="humidity"></div>
              <div class="wind"></div>
            </div>
        </div>
        <button id="mic"><i class="fas fa-microphone-alt"></i></button>
        <div class="music"></div>
        <div class="net">
            <h1 id="connection-message"><i class="fas fa-wifi"></i></h1>
        </div>
    </section>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/static/chat.js"></script>
<script src="/static/weather.js"></script>
<script src="/static/response.js"></script>
<script src="/static/script.js"></script>
<script type="text/javascript">
    var startTime = new Date().getTime();
    var img = new Image();
    img.onload = function() {
        var loadtime = new Date().getTime() - startTime;
        checkConnectionSpeed(loadtime);
    };
    img.src = "https://images.pexels.com/photos/531880/pexels-photo-531880.jpeg?"+startTime;
    function checkConnectionSpeed(millisecond) {
        var x = document.getElementById("connection-message");
        if (millisecond > 5000) {
            x.style.color = '#fc1303';
            x.innerHTML = '<i class="fas fa-wifi"></i> Slow Internet Connection';
        }else if(millisecond > 3000){
            x.style.color = '#fc8403';
            x.innerHTML = '<i class="fas fa-wifi"></i> Medium Internet Connection';
        }else{
            x.style.color = '#0bde4a';
            x.innerHTML = '<i class="fas fa-wifi"></i> Good Internet Connection';
        }
    }
</script>
</html>